#!/usr/bin/python3

import sys
sys.dont_write_bytecode = True

from fillpdf import fillpdfs
import os

from datos import *
from gui import *

#
#       AUTORELLENADO DE LOS ANEXOS I Y II SOBRE LA VALORACIÓN PARA LA FFE
#
#  Para modificar los parámetros mostrables en ambos anexos editar el fichero datos.py
#  suministrado en este mismo directorio
#


data_dict_anexo_1 = {
'Grupo': nombre_ciclo,
'Grupo_2': grupo,
'Curso académico': curso,
'Año escolar': anio,
#'NO': nombre_modulo,
'En': lugar_firma,
'Text1': dia_firma,
'de': mes_firma,
'de_2':anio_firma
}

data_dict_anexo_2 = {
'Ciclo formativo o Curso de especialización':nombre_ciclo,
'Grupo_3': grupo,
'Curso académico_2': curso,
'Año escolar_2': anio,
'EL EQUIPO DOCENTE EN SESIÓN DE EVALUACIÓN DE FECHA': fecha_reunion,
'En_2': lugar_firma,
'Text2': dia_firma,
'de_3':mes_firma,
'de_4':anio_firma
}

BASE_DIR="anexos"




if __name__=='__main__':
        
    if (len(sys.argv)<2):
        #print ("Faltan argumentos")
        main_gui()
        sys.exit(0)

    # if (sys.argv[1] == "-gui"):
    #     main_gui()
    #     sys.exit(0)

    # if (sys.argv[1] == "-l"):
    #     fillpdfs.print_form_fields(sys.argv[2])
    #     sys.exit(0)

    if ( (sys.argv[1] == "-a1") or (sys.argv[1] == "-a2")):
        if (len(sys.argv)<3):
            print ("Falta fichero de nombres")
            sys.exit(0)

    lista_modulos=crea_lista_modulos()

    if (sys.argv[1] == "-a1"):
        for m in lista_modulos:
            nombre_modulo=m[1]
            codigo_modulo=m[0]
            anexos_a1_de_modulo(data_dict_anexo_1,codigo_modulo, nombre_modulo, sys.argv[2])

    if (sys.argv[1] == "-a2"):
        anexos_a2_de_modulo(data_dict_anexo_2, sys.argv[2])







